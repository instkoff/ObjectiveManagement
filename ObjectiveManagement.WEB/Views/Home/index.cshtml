<head>
    <link href="~/lib/jstree/dist/themes/default/style.min.css" rel="stylesheet" />
    <script src="~/lib/jquery/dist/jquery.js"></script>
    <script src="~/lib/jstree/dist/jstree.js"></script>
</head>

<div class="tree-view box">
</div>

<div class="objective-details box">
    <div class="title">Детали задачи:</div>

</div>
<script type="text/javascript">
    $('.tree-view').jstree({
        //"plugins": ["search", "wholerow"],
        'core': {
            'data': {
                'url': function (node) {
                    return node.id === "#" ? "/api/Menu/get_root" : "/api/Menu/get_children/" + node.id;
                },
                'data': function (node) {
                    return { 'id': node.id };
                }
            },
            "multiple": false,
            "animation": 100,
            "themes.icons": false
        }
    });
    $('.tree-view').on('changed.jstree', function (e, data) {
        $(".objective-details").load("/api/Home/id?id="+data.node.id);
    });
</script>
